# Задание  
1. Сделайте концептуальную модель данных.
2. Сделайте общую модель формальных и функциональных связей.
3. Найдите места, в которых нужно поменять связи с синхронных на асинхронные. Пока ничего менять не нужно, этим займётесь в следующем уроке.
4. Опишите, как после этого изменятся связи. Какие из проблем бизнеса решатся (из описанных в списке выше) и почему вы решили изменить существующую связь. Чтобы было проще, возьмите шаблон таблицы.
5. Напишите название всех топиков и события, которые будут в топиках.

## Conceptual scheme
![ER](../assets/images/entity_relations.svg)

## Communication diagram
![CD](../assets/images/communication_diagram.drawio.svg)

## Места, где нужно поменять связи  

| Номер связи | Как сделана связь на текущий момент | Как изменилась связь после первого урока | Какая теперь будет связь после второго урока | Номера проблем бизнеса которые, потенциально решатся | Почему связь необходимо изменить |
|-------------|-------------------------------------|-------------------------------------------|------------------------------------------------|-----------------------------------------------------|-----------------------------------|
| COMM-010    | HTTP                                    | убрать                                           | по прежнему не понятно зачем эта связь вообще существует                                               |[Problem-040][Problem-060][Problem-080]                                                     |сервису выполнения заданий не нужно знать ничего про менеджера, я бы ее вообще убрал. Уменьшим каплинг - увеличим avaliablity, reliability, performance, scaliablity          |
| COMM-020    |HTTP                                     | была путаница с неймингом сервисов, я думал, что сервис найма - внешний сервис в котором мы продаем задаине                                           | async событие из сервиса менеджмента с информацией о кандидате и назначенном ему задании                                                |[Problem-080][Problem-020][Problem-060]                                                     |                                   |
| COMM-030    |HTTP                                     |async                                           |async event driven                                                | [Problem-080][Problem-050][Problem-020][Problem-010]                                                     |уменьшит зависимость сервиса найма от сервиса менеджмента заданий, теперь созадется событие со стороны найма, что задание выполнено верно, а сервис менеджмента назначает менеджера на переделку, при получении такого события в соотвествии с полиси: если решено 10 раз подряд верно                                   |
| COMM-040    |HTTP                                     |   async                                        |async request-response                                                |[Problem-080][Problem-030][Problem-040][Problem-050][Problem-070]| нужно моментально обновлять данные по балансу согласно требованиям, для этого подходит  |
| COMM-050    |HTTP                                     |аналогично                                           |  аналогично                                              |аналогично                                                     |                                   |
| COMM-060    |async event TaskRating |                                           |                                                |                                                     |                                   |не разобрался
| COMM-070    |HTTP                                     |убрать, добавить событие о появление нового менеджера                                           |same                                                |[Problem-030][Problem-040][Problem-070][Problem-80]                                                     |уменьшить каплинг и количество блокирующих вызовов, которые ведут к [Problem-080]                                   |
| COMM-080    |    HTTP                                 |async                                           |async                                                |[Problem-080][Problem-090]                                                     |добавляем событие, что задание создано, уменьшаем каплинг и блокирующие вызовы|
| COMM-090    |        HTTP                             |затруднился ответить                                           |по прежнему не уверен, но думаю, что вызов должен остаться синхронным, может не по http                                                |                                                     |                                   |

## Названия топиков и события  
TBD
| Название очереди/топика       | События и номера связи                      | Почему эти события попали в топик          | Почему так назвали                         |
|-------------------------------|---------------------------------------------|--------------------------------------------|--------------------------------------------|
|           | | | |
|           | |

## Mемасы после проверки
![memes1](https://coolsen.ru/wp-content/uploads/2021/12/116-20211215_233923.jpg)
![memes2](https://coolsen.ru/wp-content/uploads/2021/12/7-20211215_233909.jpg)
![memes3](https://coolsen.ru/wp-content/uploads/2021/12/16-20211215_233911.jpg)
